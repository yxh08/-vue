{
  "version": 3,
  "sources": ["../../Reactivity/src/effect.ts", "../../Reactivity/src/system.ts", "../../Reactivity/src/constance.ts", "../../Shared/src/index.ts", "../../Reactivity/src/dep.ts", "../../Reactivity/src/baseHandlers.ts", "../../Reactivity/src/reactive.ts", "../../Reactivity/src/ref.ts", "../../Reactivity/src/computed.ts"],
  "sourcesContent": ["export let activeSub: any\n\nexport function setActiveSub(value) {\n  activeSub = value\n}\nexport function effect(fn: Function, effectOptions: {}) {\n  const e = new ReactivityEffect(fn)\n  Object.assign(e, effectOptions)\n  e.run()\n  const runner = () => e.run()\n  runner.effect = e\n  return runner\n}\n\nimport type { Link } from './system'\n\nexport class ReactivityEffect {\n  deps: Link | undefined = undefined\n  depsTail: Link | undefined = undefined\n  tracking: Boolean = false\n  constructor(public fn: Function) {}\n  run() {\n    if (this.tracking) return\n    this.tracking = true\n    const prevActiveSub = activeSub\n    try {\n      this.depsTail = undefined\n      // activeSub = this\n      setActiveSub(this)\n      return this.fn() //return effect\u7684return\n    } finally {\n      // activeSub = prevActiveSub\n      setActiveSub(prevActiveSub)\n      this.tracking = false\n      // console.count('\u4F9D\u8D56\u6536\u96C6\u6B21\u6570')\n\n      //\u6E05\u7406dep\n      if (this.depsTail) {\n        endTrack(this)\n      }\n      // console.log('\u6E05\u7406deps', this)\n    }\n  }\n  scheduler() {\n    this.run()\n  }\n  notify() {\n    this.scheduler()\n  }\n}\n\nexport const endTrack = sub => {\n  let link = sub.depsTail?.nextDep\n  if (link) {\n    sub.depsTail.nextDep = undefined\n    clearDep(link)\n  }\n}\nconst clearDep = link => {\n  //\u4E34\u65F6\u53D8\u91CF \u4FDD\u5B58\u5F53\u524D\u8282\u70B9\u5C5E\u6027\u7684\u6307\u5411\n  const { sub, nextSub, prevSub, dep, nextDep } = link\n  /**\n   * subs\u5904\u7406\n   *  \u89E3\u51B3deps\u4E2D\u672A\u6CA1\u6709\u7684dep\u7684set\u89E6\u53D1effect\u6267\u884C\u95EE\u9898\n   * 1.\u64CD\u4F5CprevSub\u8282\u70B9\u7684nextSub\u6307\u5411\u5F53\u524D\u8282\u70B9\u7684\u4E0B\u4E00\u4E2A,\n   * 2.\u64CD\u4F5CnextSub\u8282\u70B9\u7684prevSub\u6307\u5411\u5F53\u524D\u8282\u70B9\u7684\u4E0A\u4E00\u4E2A,\n   * 3.\u5F53\u524D\u8282\u70B9\u7684dep\u548Csub \u6307\u5411undefined\n   */\n  if (prevSub) {\n    prevSub.nextSub = nextSub\n    //\u6E05\u9664\u81EA\u8EABprevSub\u7684\u6307\u5411\n    link.prevSub = undefined\n  } else {\n    //\u81EA\u8EAB\u4E3A\u5934\u8282\u70B9\u7684\u5904\u7406\n    dep.subs = nextSub\n  }\n\n  if (nextSub) {\n    nextSub.prevSub = prevSub\n    link.nextSub = undefined\n  } else {\n    //\u81EA\u8EAB\u4E3A\u5C3E\u8282\u70B9\u7684\u5904\u7406\n    dep.subsTail = prevSub\n  }\n\n  //deps\u5904\u7406,\u65AD\u5F00nextDep\u7684\u6307\u5411\n  link.nextDep = undefined\n\n  //\u6E05\u9664\u81EA\u8EAB\u7684dep\u548Csub\u6307\u5411\n  link.dep = link.sub = undefined\n\n  if (nextDep) {\n    clearDep(nextDep)\n  }\n}\n", "//\u4F9D\u8D56\u9879\nimport { ReactivityEffect } from './effect'\n\nexport interface Dependcy {\n  subs: Link\n  subsTail: Link | undefined\n}\n//\u4F9D\u8D56\u9879\nexport interface Sub extends ReactivityEffect {\n  deps: Link\n  depsTail: Link | undefined\n  tracking: boolean\n}\n\nexport interface Link {\n  sub: Sub\n  nextSub: Link | undefined\n  prevSub: Link | undefined\n  dep: Dependcy\n  nextDep: Link | undefined\n}\n\n//\u4F9D\u8D56\u6536\u96C6 \u4E0E \u5206\u652F\u5207\u6362\n\n/**\n *  @Param dep \u4F9D\u8D56\u9879 RefImpl\n *  @Param sub \u8BA2\u9605\u8005 ReactivityEffect\n */\nexport const collect = (dep, sub) => {\n  /**\n   * \u907F\u514D\u4F9D\u8D56\u91CD\u590D\u6536\u96C6\n   *  \u5982\u679Csub.deps\u5B58\u5728\u5E76\u4E14sub.depsTail = undefined\n   *   \u90A3\u4E48\u5C31\u662F\u518D\u6B21\u6267\u884Crun(\u7B2C\u4E00\u6B21\u7684\u65F6\u5019\u5DF2\u7ECF\u6536\u96C6\u8FC7\u4E00\u904D\u4F9D\u8D56),\n   *    \u9700\u8981\u5224\u65AD\u4E00\u4E0B\u662F\u5426\u662F\u91CD\u590D\u6536\u96C6\u4F9D\u8D56(\u6709\u53EF\u80FD\u662F\u5206\u652F\u5207\u6362,\u9700\u8981\u7684\u4F9D\u8D56\u4E0D\u540C)\n   */\n\n  const currentDep =\n    sub.deps && sub.depsTail == undefined ? sub.deps : sub.depsTail\n  // console.log(dep)\n  // \u4F9D\u8D56\u6536\u96C6\n  if (sub.deps && sub.depsTail == undefined) {\n    //\u518D\u6B21\u6536\u96C6\u5934\u8282\u70B9\n    if (currentDep.dep == dep) {\n      // console.log('\u590D\u7528\u8282\u70B9', currentDep)\n      sub.depsTail = currentDep\n      return\n    }\n  } else {\n    // console.log('\u672A\u590D\u7528\u7684\u8282\u70B9', currentDep)\n  }\n\n  const newLink: Link = {\n    sub,\n    prevSub: undefined,\n    nextSub: undefined,\n    dep,\n    nextDep: currentDep?.nextDep,\n  }\n\n  if (!sub.deps) {\n    sub.deps = newLink\n    sub.depsTail = newLink\n  } else {\n    sub.depsTail.nextDep = newLink\n    sub.depsTail = newLink\n  }\n\n  if (!dep.subs) {\n    dep.subs = newLink\n    dep.subsTail = newLink\n  } else {\n    dep.subsTail!.nextSub = newLink\n    newLink.prevSub = dep.subsTail\n    dep.subsTail = newLink\n  }\n\n  // console.log('dep', dep)\n  // console.log('sub', sub)\n}\n\n/**\n * \u89E6\u53D1\u4F9D\u8D56\n * \u5F53\u9047\u5230link.sub == computedImpl\n * \u8C03\u7528\u8F85\u52A9\u51FD\u6570processComputedUpdate\u7279\u6B8A\u5904\u7406\n * @param dep\n */\nexport const trigger = (dep: any) => {\n  console.log('trigger', dep)\n  if (dep.subs) {\n    let curSub: Link | undefined = dep.subs\n    let queue: ReactivityEffect[] = []\n    while (curSub?.sub) {\n      if ('update' in curSub.sub) {\n        return\n      } else {\n        queue.push(curSub.sub as ReactivityEffect)\n        curSub = curSub.nextSub\n      }\n    }\n    console.log('\u5F85\u6267\u884C\u961F\u5217', queue)\n    for (let i = 0; i <= queue.length - 1; i++) {\n      queue[i].notify()\n    }\n  }\n}\n", "import * as assert from 'node:assert'\n\nexport enum ReactiveFlags {\n  IS_REF = '__v_isRef',\n}\n", "export function isObject(value) {\n  return typeof value === 'object' && value !== null\n}\n\nexport function hasChanged(newValue: any, oldValue) {\n  return !Object.is(newValue, oldValue)\n}\n\nexport function isFunction(value) {\n  return typeof value === 'function'\n}\n", "import { collect, Link, trigger } from './system'\nimport { activeSub } from './effect'\n\nconst targetMap = new WeakMap() //\u5BF9\u8C61\u7684\u54CD\u5E94\u5F0F\u5173\u7CFB\nexport interface Dep {\n  subs: Link | undefined\n  subsTail: Link | undefined\n}\n\nexport class Dep {\n  subs: Link | undefined\n  subsTail: Link | undefined\n\n  constructor() {\n    this.subs = undefined\n    this.subsTail = undefined\n  }\n}\n\nexport function goCollect(target, key) {\n  let keyMap = targetMap.get(target)\n  if (!keyMap) {\n    targetMap.set(target, (keyMap = new Map()))\n  }\n  let dep = keyMap.get(key)\n\n  if (!dep) {\n    keyMap.set(key, (dep = new Dep()))\n  }\n  if (activeSub) {\n    collect(dep, activeSub)\n  }\n}\n\nexport function goTrigger(target, key) {\n  let keyMap = targetMap.get(target)\n  if (!keyMap) {\n    console.log('target', target, '\u6CA1\u6709\u88AB\u6536\u96C6\u8FC7,\u521B\u5EFA\u65B0\u7684dep')\n    targetMap.set(target, (keyMap = new Map()))\n  }\n  let dep = keyMap.get(key)\n  if (!dep) {\n    console.log('keyMap\u4E0A\u6CA1\u6709\u8BE5\u952E', key)\n    return\n  }\n  trigger(dep)\n}\n", "import { goCollect, goTrigger } from './dep'\nimport { isRef } from './ref'\nimport { hasChanged, isObject } from '../../Shared/src'\nimport { reactive } from './reactive'\n\nexport const mutableHandlers = {\n  get(target, key, receiver) {\n    goCollect(target, key)\n    const res = Reflect.get(target, key, receiver) //receiver === proxy\n    console.log('key:', key)\n\n    if (isRef(res)) {\n      return res.value\n    }\n\n    if (isObject(res)) {\n      console.log('isObject', res)\n      return reactive(res)\n    }\n\n    return res\n  },\n  set(target, key, newValue, receiver) {\n    const oldValue = target[key]\n    const res = Reflect.set(target, key, newValue, receiver)\n\n    if (hasChanged(oldValue, newValue)) {\n      if (isRef(oldValue) && !isRef(newValue)) {\n        oldValue.value = newValue // \u4F1A\u89E6\u53D1ref\u7684set \u4ECE\u800C\u89E6\u53D1set\u4E2D\u7684trigger\n        return res\n      }\n      goTrigger(target, key)\n    }\n    return res\n  },\n}\n", "import { isObject } from '../../Shared/src/index'\nimport { mutableHandlers } from './baseHandlers'\n\nexport function reactive(target: any) {\n  return createReactiveObject(target)\n}\n\nconst proxyMap = new WeakMap() //\u5B58\u653E\u54CD\u5E94\u5F0F\u5BF9\u8C61\u7684proxy\nconst proxySet = new WeakSet() //\u5DF2\u7ECF\u901A\u8FC7\u4EE3\u7406\u5F97\u5230proxy \u800C\u518D\u6B21\u4EE3\u7406,\u901A\u8FC7weakSet\u68C0\u67E5\u662Ftarget\u662F\u5426\u662F\u662F\u4E00\u4E2Aproxy.\nfunction createReactiveObject(target) {\n  if (!isObject(target)) {\n    console.warn(target, '\u4E0D\u662F\u5BF9\u8C61\u7C7B\u578B')\n    return target\n  }\n\n  // target already has corresponding Proxy\n  const existingProxy = proxyMap.get(target)\n  if (existingProxy) {\n    return existingProxy\n  }\n\n  //target is a proxy\n  const isReactiveProxy = proxySet.has(target)\n  if (isReactiveProxy) {\n    console.log('reactiveProxy', target)\n    return target\n  }\n\n  const proxy = new Proxy(target, mutableHandlers)\n  proxyMap.set(target, proxy)\n  proxySet.add(proxy)\n  return proxy\n}\n", "import { activeSub } from './effect'\nimport { collect, Link, trigger } from './system'\nimport { ReactiveFlags } from './constance'\nimport { reactive } from './reactive'\nimport { isObject } from '../../Shared/src/index'\n\nexport const ref = (value: any) => {\n  return new RefImpl(value)\n}\nexport class RefImpl {\n  subs: Link | undefined\n  subsTail: Link | undefined;\n  [ReactiveFlags.IS_REF] = true\n  _value\n  constructor(value: any) {\n    //ref \u5982\u679C\u63A5\u6536\u7684\u662F\u5BF9\u8C61(\u4E4B\u524D\u9ED8\u8BA4\u4E3A\u57FA\u7840\u7C7B\u578B) , \u90A3\u4E48\u5C06\u4ED6\u5305\u88C5\u6210reactive\n    this._value = isObject(value) ? reactive(value) : value\n    // this._value = value\n  }\n  get value() {\n    //\u6536\u96C6\u4F9D\u8D56\n    console.log('\u6536\u96C6\u4F9D\u8D56', activeSub)\n    if (activeSub) {\n      collect(this, activeSub)\n    }\n    return this._value\n  }\n  set value(newValue) {\n    this._value = isObject(newValue) ? reactive(newValue) : newValue\n    //\u89E6\u53D1\u4F9D\u8D56\n    console.log('\u89E6\u53D1\u4F9D\u8D56')\n    trigger(this)\n  }\n}\n\nexport function isRef(value) {\n  return !!(value && value[ReactiveFlags.IS_REF])\n}\n", "import { collect, Dependcy, Link, Sub, trigger } from './system'\nimport { isFunction } from '../../Shared/src'\nimport { activeSub, endTrack, setActiveSub } from './effect'\n\nexport function computed(getterOrOptions) {\n  let getter\n  let setter\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions\n  } else {\n    getter = getterOrOptions.get\n    setter = getterOrOptions.set\n  }\n  return new ComputedImpl(getter, setter)\n}\n\nclass ComputedImpl implements Dependcy, Sub {\n  _value\n  // \u4F5C\u4E3Adep\n  subs: Link | undefined\n  subsTail: Link | undefined\n  //\u4F5C\u4E3Asub\n  deps: Link | undefined\n  depsTail: Link | undefined\n\n  tracking = false\n  constructor(\n    public getter,\n    private setter,\n  ) {}\n  get value() {\n    this._value = this.update()\n\n    //\u81EA\u8EAB\u4E3Adep\u65F6,\u6536\u96C6sub\n    if (activeSub) {\n      collect(this, activeSub)\n    }\n    console.log('this._value', this._value)\n    return this._value\n  }\n\n  set value(newValue) {\n    console.log('set newValue', newValue)\n    if (this.setter) {\n      this.setter(newValue, this._value)\n      trigger(this)\n    } else {\n      console.warn('\u53EA\u8BFB\u5BF9\u8C61')\n    }\n  }\n  //\u5355\u72EC\n  update() {\n    // \u5C06\u81EA\u8EAB\u5F53\u505Asub\u65F6,\u6536\u96C6dep\n    const prevActiveSub = activeSub\n    try {\n      if (this.tracking) return\n      this.tracking = true\n      this.depsTail = undefined\n      setActiveSub(this)\n      return this.getter()\n    } finally {\n      this.tracking = false\n      setActiveSub(prevActiveSub)\n      if (this.depsTail) {\n        endTrack(this)\n      }\n    }\n  }\n}\n"],
  "mappings": "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",
  "names": ["ReactiveFlags"]
}

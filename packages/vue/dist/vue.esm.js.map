{
  "version": 3,
  "sources": ["../../runtime-dom/src/nodeOps.ts", "../../runtime-dom/src/module/patchAttr.ts", "../../runtime-dom/src/module/patchStyle.ts", "../../runtime-dom/src/module/patchClass.ts", "../../runtime-dom/src/module/Event.ts", "../../shared/src/utils.ts", "../../runtime-dom/src/patchProp.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/system.ts", "../../reactivity/src/constance.ts", "../../reactivity/src/dep.ts", "../../reactivity/src/baseHandlers.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/computed.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/h.ts", "../../runtime-dom/src/index.ts"],
  "sourcesContent": ["export const nodeOps = {\n  //\u63D2\u5165\u8282\u70B9\n  insert(el, parent, anchor) {\n    parent.insertBefore(el, anchor || null)\n  },\n  //\u79FB\u9664\u5143\u7D20\n  remove(el) {\n    const parentNode = el.parentNode\n    if (parentNode) {\n      parentNode.removeChild(el)\n    }\n  },\n  createElement(tag) {\n    return document.createElement(tag)\n  },\n  //\u8BBE\u7F6E\u5143\u7D20\u7684text\n  setElementText(el, text) {\n    el.textContent = text\n  },\n  //\u521B\u5EFA\u6587\u672C\u8282\u70B9\n  createText(text) {\n    return document.createTextNode(text)\n  },\n  //\u8BBE\u7F6EnodeValue\n  setText(node, text) {\n    return (node.nodeValue = text)\n  },\n  //\u83B7\u53D6\u7236\u8282\u70B9\n  parentNode(el) {\n    return el.parentNode\n  },\n  //\u83B7\u53D6\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9\n  nextSibling(el) {\n    return el.nextSibling\n  },\n  //\u83B7\u53D6\u5143\u7D20\n  querySelector(selector) {\n    return document.querySelector(selector)\n  },\n}\n", "export function patchAttr(el, prop, prevValue, nextValue) {\n  if (!nextValue) {\n    return el.removeAttribute(prop)\n  }\n  el.setAttribute(prop, nextValue)\n}\n", "export function patchStyle(el, prevValue, nextValue) {\n  if (nextValue) {\n    for (const styleName in nextValue) {\n      el.style[styleName] = nextValue[styleName]\n    }\n  }\n\n  if (prevValue) {\n    for (const key in prevValue) {\n      if (nextValue?.[key] == null) {\n        el.style[key] = null\n      }\n    }\n  }\n}\n", "export function patchClass(el, prevValue, nextValue) {\n  if (nextValue == undefined) {\n    //\u79FB\u9664class\n    el.removeAttribute('class')\n  } else {\n    el.className = nextValue\n  }\n}\n", "const createInvoker = nextValue => {\n  const Invoker = e => {\n    Invoker.value(e)\n  }\n  Invoker.value = nextValue\n  return Invoker\n}\n\nconst vei = 'vei'\n\nexport function patchEvent(el, eventName, prevValue, nextValue) {\n  console.log('patchAttr', el, eventName, prevValue, nextValue)\n  const rawName = eventName.slice(2).toLowerCase()\n\n  console.log('nextValue', nextValue)\n  el[vei] ??= {}\n\n  let Invoker = el[vei][rawName]\n\n  if (Invoker && nextValue) {\n    Invoker.value = nextValue\n  } else {\n    if (nextValue) {\n      Invoker = createInvoker(nextValue)\n      el[vei][rawName] = Invoker\n      el.addEventListener(rawName, Invoker)\n    } else {\n      el.removeEventListener(rawName, Invoker)\n    }\n  }\n}\n", "export function isObject(value) {\n  return typeof value === 'object' && value !== null\n}\n\nexport function hasChanged(newValue: any, oldValue) {\n  return !Object.is(newValue, oldValue)\n}\n\nexport function isFunction(value) {\n  return typeof value === 'function'\n}\n\nexport function isEvent(propName: string) {\n  return /^on[A-Z]/.test(propName)\n}\n\nexport function isVNode(value) {\n  return value?.__v_isVNode\n}\n\nexport function isArray(value) {\n  return Array.isArray(value)\n}\n\nexport function isString(value) {\n  return typeof value === 'string'\n}\n\nexport function isSameVNodeType(n1, n2) {\n  return n1.type === n2.type && n1.key === n2.key\n}\n", "import { patchAttr } from './module/patchAttr'\nimport { patchStyle } from './module/patchStyle'\nimport { patchClass } from './module/patchClass'\nimport { patchEvent } from './module/Event'\nimport { isEvent } from '@vue/shared'\n\nexport function patchProp(el, key, preValue, nextValue) {\n  //style\n  if (key == 'style') {\n    return patchStyle(el, preValue, nextValue)\n  }\n\n  //class\n  if (key == 'class') {\n    return patchClass(el, preValue, nextValue)\n  }\n\n  //event\n  if (isEvent(key)) {\n    return patchEvent(el, key, preValue, nextValue)\n  }\n  //attr\n  return patchAttr(el, key, preValue, nextValue)\n}\n", "export let activeSub: any\r\n\r\nexport function setActiveSub(value) {\r\n  activeSub = value\r\n}\r\nexport function effect(fn: Function, effectOptions: {}) {\r\n  const e = new ReactivityEffect(fn)\r\n  Object.assign(e, effectOptions)\r\n  e.run()\r\n  const runner = () => e.run()\r\n  runner.effect = e\r\n  return runner\r\n}\r\n\r\nimport type { Link } from './system'\r\n\r\nexport class ReactivityEffect {\r\n  deps: Link | undefined = undefined\r\n  depsTail: Link | undefined = undefined\r\n  tracking: Boolean = false\r\n  constructor(public fn: Function) {}\r\n  run() {\r\n    if (this.tracking) return\r\n    this.tracking = true\r\n    const prevActiveSub = activeSub\r\n    try {\r\n      this.depsTail = undefined\r\n      // activeSub = this\r\n      setActiveSub(this)\r\n      return this.fn() //return effect\u7684return\r\n    } finally {\r\n      // activeSub = prevActiveSub\r\n      setActiveSub(prevActiveSub)\r\n      this.tracking = false\r\n      // console.count('\u4F9D\u8D56\u6536\u96C6\u6B21\u6570')\r\n\r\n      //\u6E05\u7406dep\r\n      if (this.depsTail) {\r\n        endTrack(this)\r\n      }\r\n      // console.log('\u6E05\u7406deps', this)\r\n    }\r\n  }\r\n  scheduler() {\r\n    this.run()\r\n  }\r\n  notify() {\r\n    this.scheduler()\r\n  }\r\n}\r\n\r\nexport const endTrack = sub => {\r\n  let link = sub.depsTail?.nextDep\r\n  if (link) {\r\n    sub.depsTail.nextDep = undefined\r\n    clearDep(link)\r\n  }\r\n}\r\nconst clearDep = link => {\r\n  //\u4E34\u65F6\u53D8\u91CF \u4FDD\u5B58\u5F53\u524D\u8282\u70B9\u5C5E\u6027\u7684\u6307\u5411\r\n  const { sub, nextSub, prevSub, dep, nextDep } = link\r\n  /**\r\n   * subs\u5904\u7406\r\n   *  \u89E3\u51B3deps\u4E2D\u672A\u6CA1\u6709\u7684dep\u7684set\u89E6\u53D1effect\u6267\u884C\u95EE\u9898\r\n   * 1.\u64CD\u4F5CprevSub\u8282\u70B9\u7684nextSub\u6307\u5411\u5F53\u524D\u8282\u70B9\u7684\u4E0B\u4E00\u4E2A,\r\n   * 2.\u64CD\u4F5CnextSub\u8282\u70B9\u7684prevSub\u6307\u5411\u5F53\u524D\u8282\u70B9\u7684\u4E0A\u4E00\u4E2A,\r\n   * 3.\u5F53\u524D\u8282\u70B9\u7684dep\u548Csub \u6307\u5411undefined\r\n   */\r\n  if (prevSub) {\r\n    prevSub.nextSub = nextSub\r\n    //\u6E05\u9664\u81EA\u8EABprevSub\u7684\u6307\u5411\r\n    link.prevSub = undefined\r\n  } else {\r\n    //\u81EA\u8EAB\u4E3A\u5934\u8282\u70B9\u7684\u5904\u7406\r\n    dep.subs = nextSub\r\n  }\r\n\r\n  if (nextSub) {\r\n    nextSub.prevSub = prevSub\r\n    link.nextSub = undefined\r\n  } else {\r\n    //\u81EA\u8EAB\u4E3A\u5C3E\u8282\u70B9\u7684\u5904\u7406\r\n    dep.subsTail = prevSub\r\n  }\r\n\r\n  //deps\u5904\u7406,\u65AD\u5F00nextDep\u7684\u6307\u5411\r\n  link.nextDep = undefined\r\n\r\n  //\u6E05\u9664\u81EA\u8EAB\u7684dep\u548Csub\u6307\u5411\r\n  link.dep = link.sub = undefined\r\n\r\n  if (nextDep) {\r\n    clearDep(nextDep)\r\n  }\r\n}\r\n", "//\u4F9D\u8D56\u9879\r\nimport { ReactivityEffect } from './effect'\r\n\r\nexport interface Dependcy {\r\n  subs: Link\r\n  subsTail: Link | undefined\r\n}\r\n//\u4F9D\u8D56\u9879\r\nexport interface Sub extends ReactivityEffect {\r\n  deps: Link\r\n  depsTail: Link | undefined\r\n  tracking: boolean\r\n}\r\n\r\nexport interface Link {\r\n  sub: Sub\r\n  nextSub: Link | undefined\r\n  prevSub: Link | undefined\r\n  dep: Dependcy\r\n  nextDep: Link | undefined\r\n}\r\n\r\n//\u4F9D\u8D56\u6536\u96C6 \u4E0E \u5206\u652F\u5207\u6362\r\n\r\n/**\r\n *  @Param dep \u4F9D\u8D56\u9879 RefImpl\r\n *  @Param sub \u8BA2\u9605\u8005 ReactivityEffect\r\n */\r\nexport const collect = (dep, sub) => {\r\n  /**\r\n   * \u907F\u514D\u4F9D\u8D56\u91CD\u590D\u6536\u96C6\r\n   *  \u5982\u679Csub.deps\u5B58\u5728\u5E76\u4E14sub.depsTail = undefined\r\n   *   \u90A3\u4E48\u5C31\u662F\u518D\u6B21\u6267\u884Crun(\u7B2C\u4E00\u6B21\u7684\u65F6\u5019\u5DF2\u7ECF\u6536\u96C6\u8FC7\u4E00\u904D\u4F9D\u8D56),\r\n   *    \u9700\u8981\u5224\u65AD\u4E00\u4E0B\u662F\u5426\u662F\u91CD\u590D\u6536\u96C6\u4F9D\u8D56(\u6709\u53EF\u80FD\u662F\u5206\u652F\u5207\u6362,\u9700\u8981\u7684\u4F9D\u8D56\u4E0D\u540C)\r\n   */\r\n\r\n  const currentDep =\r\n    sub.deps && sub.depsTail == undefined ? sub.deps : sub.depsTail\r\n  // console.log(dep)\r\n  // \u4F9D\u8D56\u6536\u96C6\r\n  if (sub.deps && sub.depsTail == undefined) {\r\n    //\u518D\u6B21\u6536\u96C6\u5934\u8282\u70B9\r\n    if (currentDep.dep == dep) {\r\n      sub.depsTail = currentDep\r\n      return\r\n    }\r\n  } else {\r\n    // console.log('\u672A\u590D\u7528\u7684\u8282\u70B9', currentDep)\r\n  }\r\n\r\n  const newLink: Link = {\r\n    sub,\r\n    prevSub: undefined,\r\n    nextSub: undefined,\r\n    dep,\r\n    nextDep: currentDep?.nextDep,\r\n  }\r\n\r\n  if (!sub.deps) {\r\n    sub.deps = newLink\r\n    sub.depsTail = newLink\r\n  } else {\r\n    sub.depsTail.nextDep = newLink\r\n    sub.depsTail = newLink\r\n  }\r\n\r\n  if (!dep.subs) {\r\n    dep.subs = newLink\r\n    dep.subsTail = newLink\r\n  } else {\r\n    dep.subsTail!.nextSub = newLink\r\n    newLink.prevSub = dep.subsTail\r\n    dep.subsTail = newLink\r\n  }\r\n}\r\n\r\n/**\r\n * \u89E6\u53D1\u4F9D\u8D56\r\n * \u5F53\u9047\u5230link.sub == computedImpl\r\n * \u8C03\u7528\u8F85\u52A9\u51FD\u6570processComputedUpdate\u7279\u6B8A\u5904\u7406\r\n * @param dep\r\n */\r\n\r\nconst processComputedUpdate = computedImpl => {\r\n  /**\r\n   *  \u53EA\u6709\u5728computed\u4E0A\u6709subs \u5E76\u4E14 computed.update\r\n   *  \u540E\u6570\u636E\u53D1\u751F\u53D8\u5316\u624D\u4F1A \u901A\u77E5computed \u7684\u4F9D\u8D56sub\u66F4\u65B0\r\n   */\r\n  if (computedImpl.subs && computedImpl.update()) {\r\n    trigger(computedImpl)\r\n  }\r\n}\r\nexport const trigger = (dep: any) => {\r\n  if (dep.subs) {\r\n    let curSub: Link | undefined = dep.subs\r\n    let queue: ReactivityEffect[] = []\r\n    while (curSub?.sub) {\r\n      if ('update' in curSub.sub) {\r\n        curSub.sub.dirty = true\r\n        processComputedUpdate(curSub.sub)\r\n      } else {\r\n        queue.push(curSub.sub as ReactivityEffect)\r\n      }\r\n      curSub = curSub.nextSub\r\n    }\r\n    console.log('\u5F85\u6267\u884C\u961F\u5217', queue)\r\n    for (let i = 0; i <= queue.length - 1; i++) {\r\n      queue[i].notify()\r\n    }\r\n  }\r\n}\r\n", "import * as assert from 'node:assert'\r\n\r\nexport enum ReactiveFlags {\r\n  IS_REF = '__v_isRef',\r\n}\r\n", "import { collect, Link, trigger } from './system'\r\nimport { activeSub } from './effect'\r\n\r\nconst targetMap = new WeakMap() //\u5BF9\u8C61\u7684\u54CD\u5E94\u5F0F\u5173\u7CFB\r\nexport interface Dep {\r\n  subs: Link | undefined\r\n  subsTail: Link | undefined\r\n}\r\n\r\nexport class Dep {\r\n  subs: Link | undefined\r\n  subsTail: Link | undefined\r\n\r\n  constructor() {\r\n    this.subs = undefined\r\n    this.subsTail = undefined\r\n  }\r\n}\r\n\r\nexport function goCollect(target, key) {\r\n  let keyMap = targetMap.get(target)\r\n  if (!keyMap) {\r\n    targetMap.set(target, (keyMap = new Map()))\r\n  }\r\n  let dep = keyMap.get(key)\r\n\r\n  if (!dep) {\r\n    keyMap.set(key, (dep = new Dep()))\r\n  }\r\n  if (activeSub) {\r\n    collect(dep, activeSub)\r\n  }\r\n}\r\n\r\nexport function goTrigger(target, key) {\r\n  let keyMap = targetMap.get(target)\r\n  if (!keyMap) {\r\n    console.log('target', target, '\u6CA1\u6709\u88AB\u6536\u96C6\u8FC7,\u521B\u5EFA\u65B0\u7684dep')\r\n    targetMap.set(target, (keyMap = new Map()))\r\n  }\r\n  let dep = keyMap.get(key)\r\n  if (!dep) {\r\n    console.log('keyMap\u4E0A\u6CA1\u6709\u8BE5\u952E', key)\r\n    return\r\n  }\r\n  trigger(dep)\r\n}\r\n", "import { goCollect, goTrigger } from './dep'\nimport { isRef } from './ref'\nimport { hasChanged, isObject } from '@vue/shared/src/utils'\nimport { reactive } from './reactive'\n\nexport const mutableHandlers = {\n  get(target, key, receiver) {\n    goCollect(target, key)\n    const res = Reflect.get(target, key, receiver) //receiver === proxy\n\n    if (isRef(res)) {\n      return res.value\n    }\n\n    if (isObject(res)) {\n      return reactive(res)\n    }\n\n    return res\n  },\n  set(target, key, newValue, receiver) {\n    const oldValue = target[key]\n    const res = Reflect.set(target, key, newValue, receiver)\n\n    if (hasChanged(oldValue, newValue)) {\n      if (isRef(oldValue) && !isRef(newValue)) {\n        oldValue.value = newValue // \u4F1A\u89E6\u53D1ref\u7684set \u4ECE\u800C\u89E6\u53D1set\u4E2D\u7684trigger\n        return res\n      }\n      goTrigger(target, key)\n    }\n    return res\n  },\n}\n", "import { isObject } from '@vue/shared/src/utils'\nimport { mutableHandlers } from './baseHandlers'\n\nexport function reactive(target: any) {\n  return createReactiveObject(target)\n}\n\nconst proxyMap = new WeakMap() //\u5B58\u653E\u54CD\u5E94\u5F0F\u5BF9\u8C61\u7684proxy\nconst proxySet = new WeakSet() //\u5DF2\u7ECF\u901A\u8FC7\u4EE3\u7406\u5F97\u5230proxy \u800C\u518D\u6B21\u4EE3\u7406,\u901A\u8FC7weakSet\u68C0\u67E5\u662Ftarget\u662F\u5426\u662F\u662F\u4E00\u4E2Aproxy.\nfunction createReactiveObject(target) {\n  if (!isObject(target)) {\n    console.warn(target, '\u4E0D\u662F\u5BF9\u8C61\u7C7B\u578B')\n    return target\n  }\n\n  // target already has corresponding Proxy\n  const existingProxy = proxyMap.get(target)\n  if (existingProxy) {\n    return existingProxy\n  }\n\n  //target is a proxy\n  const isReactiveProxy = proxySet.has(target)\n  if (isReactiveProxy) {\n    console.log('reactiveProxy', target)\n    return target\n  }\n\n  const proxy = new Proxy(target, mutableHandlers)\n  proxyMap.set(target, proxy)\n  proxySet.add(proxy)\n  return proxy\n}\n", "import { activeSub } from './effect'\nimport { collect, Link, trigger } from './system'\nimport { ReactiveFlags } from './constance'\nimport { reactive } from './reactive'\nimport { hasChanged, isObject } from '@vue/shared/src/utils'\n\nexport const ref = (value: any) => {\n  return new RefImpl(value)\n}\nexport class RefImpl {\n  subs: Link | undefined\n  subsTail: Link | undefined;\n  [ReactiveFlags.IS_REF] = true\n  _value\n  constructor(value: any) {\n    //ref \u5982\u679C\u63A5\u6536\u7684\u662F\u5BF9\u8C61(\u4E4B\u524D\u9ED8\u8BA4\u4E3A\u57FA\u7840\u7C7B\u578B) , \u90A3\u4E48\u5C06\u4ED6\u5305\u88C5\u6210reactive\n    this._value = isObject(value) ? reactive(value) : value\n    // this._value = value\n  }\n  get value() {\n    //\u6536\u96C6\u4F9D\u8D56\n    // console.log('\u6536\u96C6\u4F9D\u8D56', activeSub)\n    if (activeSub) {\n      collect(this, activeSub)\n    }\n    return this._value\n  }\n  set value(newValue) {\n    if (hasChanged(newValue, this.value)) {\n      this._value = isObject(newValue) ? reactive(newValue) : newValue\n      //\u89E6\u53D1\u4F9D\u8D56\n      // console.log('\u89E6\u53D1\u4F9D\u8D56')\n      trigger(this)\n    }\n  }\n}\n\nexport function isRef(value: any) {\n  return !!(value && value[ReactiveFlags.IS_REF])\n}\n\nexport function toRef(object, key) {\n  return new ObjectRefImpl(object, key)\n}\n\nexport function toRefs(object) {\n  const keys = Object.keys(object)\n  console.log(keys)\n  // return new ObjectRefImpl(object)\n}\n\nexport function proxyRefs(target) {\n  return new Proxy(target, {\n    get(target, key, receiver) {},\n    set(target, key, newValue, receiver) {},\n  })\n}\n\nclass ObjectRefImpl {\n  [ReactiveFlags.IS_REF] = true\n  constructor(\n    public _object,\n    public _key,\n  ) {}\n  get value() {\n    return this._object[this._key]\n  }\n  set value(newValue) {\n    this._object[this._key] = newValue\n  }\n}\n", "import { collect, Dependcy, Link, Sub, trigger } from './system'\nimport { hasChanged, isFunction } from '@vue/shared/src/utils'\nimport { activeSub, endTrack, setActiveSub } from './effect'\n\nexport function computed(getterOrOptions) {\n  let getter\n  let setter\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions\n  } else {\n    getter = getterOrOptions.get\n    setter = getterOrOptions.set\n  }\n  return new ComputedImpl(getter, setter)\n}\n\nclass ComputedImpl implements Dependcy, Sub {\n  _value\n  // \u4F5C\u4E3Adep\n  subs: Link | undefined\n  subsTail: Link | undefined\n  //\u4F5C\u4E3Asub\n  deps: Link | undefined\n  depsTail: Link | undefined\n\n  tracking = false\n\n  dirty: boolean = true\n  constructor(\n    public getter,\n    private setter,\n  ) {}\n  get value() {\n    if (this.dirty) {\n      //true \u810F\n      this.update()\n    }\n    //\u81EA\u8EAB\u4E3Adep\u65F6,\u6536\u96C6sub\n    if (activeSub) {\n      collect(this, activeSub)\n    }\n    return this._value\n  }\n\n  set value(newValue) {\n    console.log('set newValue', newValue)\n    if (this.setter) {\n      this.setter(newValue, this._value)\n      trigger(this)\n    } else {\n      console.warn('\u53EA\u8BFB\u5BF9\u8C61')\n    }\n  }\n  //\u5355\u72EC\n  update() {\n    // \u5C06\u81EA\u8EAB\u5F53\u505Asub\u65F6,\u6536\u96C6dep\n\n    const oldValue = this._value\n    const prevActiveSub = activeSub\n    try {\n      if (this.tracking) return\n      this.tracking = true\n      this.depsTail = undefined\n      setActiveSub(this)\n      this._value = this.getter()\n      /**\n       * \u6BCF\u6B21\u6267\u884C\u5B8Cupdate\u540E,\u5C06_value\u6807\u8BB0\u4E3A\u5E72\u51C0\u503C,\n       * \u53EA\u6709\u4F9D\u8D56\u7684dep\u88ABset\u540E,\u901A\u8FC7\u94FE\u8868\u8282\u70B9\u627E\u5230\u8FD9\u4E2Acomputed\u91CD\u65B0\u83B7\u53D6\u65B0\u503C \u524D!\n       * \u624D\u4F1A\u6807\u8BB0\u4E3A\u810F\u503C.\u8FD9\u65F6\u518D\u6B21get value\u624D\u4F1A\u91CD\u65B0\u6267\u884Cupdate,\u5426\u5219get value \u90FD\u662F\u83B7\u53D6\u7684\u7F13\u5B58\u6570\u636E,\u4E0D\u4F1A\u771F\u6B63\u6267\u884Ccomputed\u4E2D\u7684\u56DE\u8C03\n       */\n      this.dirty = false\n      return hasChanged(this._value, oldValue) ? true : false\n    } finally {\n      this.tracking = false\n      setActiveSub(prevActiveSub)\n      if (this.depsTail) {\n        endTrack(this)\n      }\n    }\n  }\n}\n", "import { ShapeFlags, isSameVNodeType } from '@vue/shared'\n\nexport function createRenderer(options) {\n  // \u63D0\u4F9B\u865A\u62DF\u8282\u70B9\u6E32\u67D3\u5230\u9875\u9762\u4E0A\u7684\u529F\u80FD\n  const {\n    createElement: hostCreateElement,\n    insert: hostInsert,\n    remove: hostRemove,\n    setElementText: hostSetElementText,\n    createText: hostCreateText,\n    setText: hostSetText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    patchProp: hostPatchProp,\n  } = options\n\n  //\u6302\u8F7D\u5B50\u8282\u70B9\n  const mountChildren = (children, el) => {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i]\n      //\u9012\u5F52\u6302\u8F7D\u5B50\u8282\u70B9\n      patch(null, child, el)\n    }\n  }\n\n  //\u5378\u8F7D\u5B50\u5143\u7D20\n  const unmountChildren = children => {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i]\n      unmount(child)\n    }\n  }\n  //\u5378\u8F7D\n  const unmount = vnode => {\n    const { type, shapeFlag, children } = vnode\n\n    if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      //\u5B50\u8282\u70B9\u662F\u6570\u7EC4\n      unmountChildren(children)\n    }\n    hostRemove(vnode.el)\n  }\n\n  const mountElement = (vnode, container, anchor = null) => {\n    const { type, props, children, shapeFlag } = vnode\n    const el = hostCreateElement(type)\n    vnode.el = el\n\n    if (props) {\n      for (const key in props) {\n        hostPatchProp(el, key, null, props[key])\n      }\n    }\n\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      //\u5B50\u8282\u70B9\u662F\u6587\u672C\n      hostSetElementText(el, children)\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      console.log('\u5B50\u8282\u70B9\u662F\u6570\u7EC4')\n      //\u5B50\u8282\u70B9\u662F\u6570\u7EC4\n      mountChildren(children, el)\n    }\n\n    hostInsert(el, container, anchor)\n  }\n\n  const patchProps = (el, oldProps, newProps) => {\n    if (oldProps) {\n      for (const key in oldProps) {\n        hostPatchProp(el, key, oldProps[key], null)\n      }\n    }\n\n    if (newProps) {\n      for (const key in newProps) {\n        hostPatchProp(el, key, oldProps?.[key], newProps[key])\n      }\n    }\n  }\n\n  const patchKeyedChildren = (c1, c2, el) => {\n    let e1 = c1.length - 1\n    let e2 = c2.length - 1\n    let i = 0\n    //\u5934\u90E8\u5BF9\u6BD4\n    while (i <= e1 && i <= e2) {\n      if (isSameVNodeType(c1[i], c2[i])) {\n        //\u5982\u679C tagname \u548Ckey \u90FD\u76F8\u540C\uFF0C\u5C31\u8FDB\u884C\u66F4\u65B0\n        patchElement(c1[i], c2[i])\n      } else {\n        //\u5426\u5219\u9000\u51FA\u5934\u90E8\u5BF9\u6BD4\n        break\n      }\n      i++\n    }\n\n    //\u5C3E\u90E8\u5BF9\u6BD4\n    while (i <= e1 && i <= e2) {\n      if (isSameVNodeType(c1[e1], c2[e2])) {\n        patchElement(c1[e1], c2[e2])\n      } else {\n        break\n      }\n      e1--\n      e2--\n    }\n\n    console.log(i, e1, e2)\n\n    if (i > e2) {\n      // \u65B0\u7684\u5C11  \u8001\u7684\u591A \u5C06\u591A\u51FA\u6765\u7684\u8001\u7684\u5378\u8F7D\n      while (i <= e1) {\n        unmount(c1[e1])\n        e1--\n      }\n    } else if (i > e1) {\n      // \u65B0\u7684\u591A \u8001\u7684\u5C11 \u6302\u8F7D\u65B0\u7684\n      while (i <= e2) {\n        console.log('anchor', c2[e2 + 1])\n        console.log('new', c2[e2])\n        patch(null, c2[e2], el, c2[e2 + 1].el)\n        e2--\n      }\n    } else {\n      /**\n       * \u4E71\u5E8Fdiff\n       *  1.\u5148\u6309\u7167key\u76F8\u540C\u7684\u8FDB\u884Cpatch\n       *   1.1 \u66F4\u65B0key\u76F8\u540C\u7684\u5143\u7D20\n       *   1.2 \u5378\u8F7Dkey\u4E0D\u76F8\u540C\u7684\u5143\u7D20\n       *  2.\u6309\u7167\u65B0\u7684\u987A\u5E8F\u8FDB\u884C\u6302\u8F7D\u6392\u5E8F\n       *\n       */\n      const keymap = new Map()\n      for (let s = i; s <= e2; s++) {\n        const { key } = c2[s]\n        keymap.set(key, s)\n      }\n      for (let s = i; s <= e1; s++) {\n        const { key } = c1[s]\n        if (keymap.has(key)) {\n          patch(c1[s], c2[keymap.get(key)])\n        } else {\n          unmount(c1[s])\n        }\n      }\n      //\u904D\u5386\u65B0\u7684 \u8FDB\u884C\u5012\u5E8F \u6302\u8F7D \u6392\u5E8F\u63D2\u5165\n\n      for (let s = e2; s >= i; s--) {\n        const anchor = c2[s + 1]?.el || null\n        if (c2[s].el) {\n          hostInsert(c2[s].el, el, anchor)\n        } else {\n          patch(null, c2[s], el, anchor)\n        }\n      }\n    }\n  }\n\n  const patchChildren = (n1, n2, el) => {\n    /**\n     *  \u65B0\u7684\u5B50\u8282\u70B9\u662F\u5B57\u7B26\u4E32\n     *    1.\u8001\u7684\u662F\u6570\u7EC4\n     *    2.\u8001\u7684\u4E5F\u662F\u5B57\u7B26\u4E32\n     *  \u65B0\u7684\u5B50\u8282\u70B9\u662F\u6570\u7EC4\n     *    3.\u8001\u7684\u662F\u5B57\u7B26\u4E32\n     *    4.\u8001\u7684\u4E5F\u662F\u6570\u7EC4\n     *    5.\u8001\u7684\u662Fnull\n     *   \u65B0\u7684\u5B50\u8282\u70B9\u662Fnull\n     *\n     */\n\n    const prevShapeFlag = n1.shapeFlag\n    const shapeFlag = n2.shapeFlag\n\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      //\u65B0\u7684\u662F\u6587\u672C\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        //\u8001\u7684\u662F\u6570\u7EC4,\u5168\u90E8\u5378\u8F7D\u6389\n        unmountChildren(n1.children)\n      }\n      if (n1.children !== n2.children) {\n        hostSetElementText(el, n2.children)\n      }\n    } else {\n      //\u65B0\u7684\u662F\u6570\u7EC4\n      if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n        //\u8001\u7684\u662F\u6587\u672C\n        //\u5220\u9664\u8001\u7684\u6587\u672C\u8282\u70B9\n        hostSetElementText(el, '')\n        //\u65B0\u8282\u70B9\u662F\u7EC4\u6570 - \u6302\u8F7D\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          mountChildren(n2.children, el)\n        }\n        //\u65B0\u8282\u70B9\u4E3Anull  \u4E0D\u5904\u7406\n      } else {\n        if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            //\u65B0\u7684\u662F\u6570\u7EC4\uFF0C\u8001\u7684\u4E5F\u662F\u6570\u7EC4\u3002\u5168\u91CFdiff\n            patchKeyedChildren(n1.children, n2.children, el)\n          } else {\n            unmountChildren(n1.children)\n          }\n        } else {\n          //\u8001\u7684\u662Fnull\n          if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            //\u65B0\u7684\u662F\u6570\u7EC4\n            mountChildren(n2.children, el)\n          }\n        }\n      }\n    }\n  }\n\n  const patchElement = (n1, n2) => {\n    /**\n     * 1.\u590D\u7528dom\u5143\u7D20\n     * 2.\u66F4\u65B0props\n     * 3.\u66F4\u65B0children\n     */\n    const el = (n2.el = n1.el) // \u8FD9\u91CC\u66F4\u65B0n2\u7684el ,\u662F\u4E3A\u4E86\u5728 insertBefore \u7684\u65F6\u5019\u53EF\u4EE5\u6839\u636E\u62FF\u5230el ,\u5728\u8FD9\u4E2Ael\u524D\u9762\u63D2\u5165\u5143\u7D20\n\n    const oldProps = n1.props\n    const newProps = n2.props\n    patchProps(el, oldProps, newProps)\n\n    //\u66F4\u65B0children\n    patchChildren(n1, n2, el)\n  }\n\n  const patch = (n1, n2, container, anchor = null) => {\n    if (n1 === n2) return\n\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      // \u5982\u679Cn1 n2 \u7C7B\u578B\u6216key\u4E0D\u76F8\u540C\n      unmount(n1)\n      n1 = null\n    }\n    if (n1 == null) {\n      //\u6302\u8F7D\n      mountElement(n2, container, anchor)\n    } else {\n      //\u66F4\u65B0\n      patchElement(n1, n2)\n    }\n  }\n\n  const render = (vnode, container) => {\n    /**\n     * 1.\u6302\u8F7D\n     * 2.\u66F4\u65B0\n     * 3.\u5378\u8F7D\n     */\n\n    if (vnode == null) {\n      if (container._vnode) {\n        //\u5378\u8F7D\n        unmount(container._vnode)\n      }\n    } else {\n      //\u6302\u8F7D\u548C\u66F4\u65B0\n      patch(container._vnode || null, vnode, container)\n    }\n\n    // \u4FDD\u5B58\u8FD9\u6B21\u7684vnode , \u5728\u4E0B\u6B21\u66F4\u65B0\u7684\u65F6\u5019\u80FD\u62FF\u5230\u8FD9\u6B21\u7684vnode \u4F5C\u4E3A\"\u4E0A\u4E00\u4E2Avnode\"\n    container._vnode = vnode\n  }\n\n  return {\n    render,\n  }\n}\n", "/**\n * \u521B\u5EFA\u865A\u62DF\u8282\u70B9\u7684\u5E95\u5C42\u65B9\u6CD5\n * @param type \u8282\u70B9\u7C7B\u578B\n * @param props \u8282\u70B9\u7684\u5C5E\u6027\n * @param children \u5B50\u8282\u70B9\n */\nimport { isArray, isString, ShapeFlags } from '@vue/shared'\n\nexport function createVNode(type, props, children) {\n  let shapeFlag = 0\n\n  if (isString(type)) {\n    shapeFlag |= ShapeFlags.ELEMENT\n  }\n  if (isString(children)) {\n    shapeFlag |= ShapeFlags.TEXT_CHILDREN\n  } else if (isArray(children)) {\n    shapeFlag |= ShapeFlags.ARRAY_CHILDREN\n  }\n\n  const vnode = {\n    __is_VNode: true,\n    type,\n    props,\n    children,\n    //\u9700\u8981\u6302\u8F7D\u7684\u76EE\u6807\u5143\u7D20\n    el: null,\n    // \u505Adiff\u7528\n    key: props?.key,\n    shapeFlag,\n  }\n  return vnode\n}\n", "/**\n *  h\u51FD\u6570\u7684\u4F7F\u7528\u65B9\u6CD5\n *   -\u4E24\u4E2A\u53C2\u6570\u7684\u60C5\u51B5\n *   1.h('div','hello world) \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A \u5B57\u7B26\u4E32\u7C7B\u578B\u7684\u5B50\u8282\u70B9\n *   2.h('div',[h('span','hello'),h('span','world')]) \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A \u6570\u7EC4\u7C7B\u578B\u7684\u5B50\u8282\u70B9\n *   3.h('div',h('span','hello world'))\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A \u5BF9\u8C61\u7C7B\u578B & vnode\u7C7B\u578B \u7684\u5B50\u8282\u70B9\n *   4.h('div',{class:'container'}) \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A \u5BF9\u8C61\u7C7B\u578B \u7684props\n *  ----\n *   -\u4E24\u4E2A\u4EE5\u4E0A\u53C2\u6570\u7684\u60C5\u51B5\n *   5.h('div',{class:'container'},'hello world') \u7B2C\u4E09\u4E2A\u53C2\u6570\u4E3A string\u7C7B\u578B\u7684 \u5B50\u8282\u70B9\n *   6.h('div',{class:'container'},h('span','hello world')) \u7B2C\u4E09\u4E2A\u53C2\u6570\u4E3A object & vnode \u7C7B\u578B\u7684\u5B50\u8282\u70B9\n *   7.h('div',{class:'container'},[h('span','hello'),h('span',' world')])  \u7B2C\u4E09\u4E2A\u53C2\u6570\u4E3A array\u7C7B\u578B\u7684\u5B50\u8282\u70B9\n *   8.h('div',{class:'container'},h('span','hello'),h('span',' world')) \u5927\u4E8E\u4E09\u4E2A\u53C2\u6570,\u770B\u6210 7 \u8FD9\u6837\u5904\u7406\n */\n\nimport { isArray, isObject, isVNode } from '@vue/shared'\nimport { createVNode } from './vnode'\n\nexport function h(type, propsOrChildren?, children?) {\n  /**\n   * h\u51FD\u6570 \u4E3B\u8981\u4F5C\u7528\u662F\u5BF9 createVNode \u7684\u53C2\u6570\u4F5C\u4E00\u4E2A\u6807\u51C6\u5316\n   */\n  let l = arguments.length\n\n  if (l === 2) {\n    if (isArray(propsOrChildren)) {\n      // \u7C7B\u578B 2: h('div',  [h('span','hello'),h('span','world')]\n      return createVNode(type, null, propsOrChildren)\n    }\n    if (isObject(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        //\u7C7B\u578B 3: h('div',h('span','hello world'))\n        return createVNode(type, null, [propsOrChildren])\n      } else {\n        //\u7C7B\u578B 4: h('div',{class:'container'})\n        return createVNode(type, propsOrChildren)\n      }\n    }\n\n    // \u7C7B\u578B1: h('div','hello world)\n    return createVNode(type, null, propsOrChildren)\n  } else {\n    if (l > 3) {\n      // \u7C7B\u578B6: h('div',{class:'container'},h('span','hello world'))\n      return createVNode(type, propsOrChildren, [...arguments.slice(2)])\n    } else {\n      if (isVNode(children)) {\n        return createVNode(type, propsOrChildren, [children])\n      }\n      return createVNode(type, propsOrChildren, children)\n    }\n  }\n}\n", "import { nodeOps } from './nodeOps'\nimport { patchProp } from './patchProp'\nexport * from '@vue/runtime-core'\nimport { createRenderer } from '@vue/runtime-core'\n\nexport const renderOptions = {\n  patchProp,\n  ...nodeOps,\n}\n\nconst renderer = createRenderer(renderOptions)\nexport function render(vnode, container) {\n  renderer.render(vnode, container)\n}\n"],
  "mappings": "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",
  "names": ["ReactiveFlags", "target", "_a", "render"]
}
